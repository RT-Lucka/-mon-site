<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nos Produits - Plan√®te G√¢teau</title>
        <link rel="icon" type="jpg" href="IMG-20260220-WA0005.jpg">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
/* ===== Global ===== */
* { box-sizing: border-box; margin:0; padding:0; font-family: Arial, sans-serif; }
body { background: #ffb6c1; color: #333; padding-top: 120px; }
    @media (max-width: 768px) {
  body {
    padding-top: 140px;
  }
}
/* ===== Header ===== */
header { position: fixed; top:0; left:0; width:100%; z-index:1000; background: linear-gradient(90deg,#ffb6c1,#c0f0f0); padding:15px 20px; display:flex; align-items:center; justify-content:space-between; box-shadow:0 4px 8px rgba(0,0,0,0.1);}
.logo { display:flex; align-items:center; gap:12px; }
.logo-badge { width:52px; height:52px; border-radius:50%; display:flex; align-items:center; justify-content:center;}
.logo-badge img { width:100%; height:100%; object-fit:contain; border-radius:50%; }
.logo-name { display:flex; flex-direction:column; line-height:1;}
.logo-name .main { font-family:'Playfair Display', serif; font-size:22px; font-weight:700; color:#fff; letter-spacing:1px;}
.logo-name .sub { font-family:'Montserrat',sans-serif;font-size:13px;font-weight:600;color:#ffe4ef;letter-spacing:3px;text-transform:uppercase;}
.search-bar input { padding:8px 12px; width:300px; border-radius:20px; border:1px solid #ff69b4;}
.account-cart button { background:#ff69b4;color:#fff;border:none;padding:8px 15px;border-radius:20px;cursor:pointer;margin-left:5px; }
/* Breadcrumb */
.breadcrumb { margin:100px 20px 15px 20px; font-size:14px; color:#555;}
.breadcrumb a { text-decoration:none; color:#555; margin-right:5px; }
/* Page header */
.page-header { background: linear-gradient(135deg,#ffb6c1,#c0f0f0); padding:40px 20px; border-radius:0 0 30px 30px; display:flex; align-items:center; gap:20px;}
.page-header img { width:120px; height:120px; border-radius:10px; object-fit:cover; background:transparent; animation: floatRotate 4s infinite ease-in-out;}
.page-header h1 { color:#e60073; font-size:32px;}
.page-header p { max-width:600px;}
/* Main & Sidebar */
main { display:flex; padding:20px; gap:20px;}
.sidebar { width:250px; padding:20px; border-radius:10px;}
.sidebar h3 { margin-bottom:10px; color:#e60073; }
.sidebar label { display:block; margin:10px 0 5px; font-weight:bold;}
.sidebar select { width:100%; padding:6px; }
/* Products */
.products { display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:20px; flex:1;}
.product-card { background:#fff; border-radius:15px; overflow:hidden; box-shadow:0 4px 12px rgba(0,0,0,0.1); text-align:center; position:relative; transition: transform 0.3s;}
.product-card:hover { transform:translateY(-5px);}
.product-card .badge { position:absolute; top:10px; left:10px; background:#ffee00; color:#000; font-size:12px; font-weight:bold; padding:5px 10px; border-radius:10px;}
.product-card img { width:100%; height:180px; object-fit:contain; background:#f8f8f8;}
.product-info { padding:10px 15px; }
.product-info h5 { font-size:12px; color:#999; margin-bottom:5px; text-transform:uppercase; }
.product-info h4 { font-size:14px; color:#333; margin-bottom:8px;}
.product-info .price { font-size:16px; color:#e60073; font-weight:bold; margin-bottom:5px;}
.product-info .stock { font-size:12px; color:#00cfff; margin-bottom:10px;}
.product-info .add-cart { background:#ff69b4; color:#fff; border:none; padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:bold; width:100%; transition: background 0.2s;}
.product-info .add-cart:hover { background:#e60073;}
/* Tartes */
/* ===== Tartes am√©lior√©es ===== */
.tarte-card {
  background: #fff;
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 6px 18px rgba(0,0,0,0.12);
  text-align: center;
  transition: transform 0.3s, box-shadow 0.3s;
  position: relative;
  width: 180px;
  flex: 0 0 auto;
}

.tarte-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0,0,0,0.18);
}

.tarte-card img {
  width: 100%;
  height: 140px;
  object-fit: cover;
  border-bottom: 1px solid #eee;
}

.tarte-badge {
  position: absolute;
  top: 10px;
  left: 10px;
  background: #ff69b4;
  color: #fff;
  font-size: 12px;
  font-weight: bold;
  padding: 5px 8px;
  border-radius: 10px;
  z-index: 2;
}

.tarte-content {
  padding: 10px;
}

.tarte-content h3 {
  font-size: 14px;
  color: #e60073;
  margin-bottom: 5px;
}

.tarte-stars {
  color: #f1c40f;
  margin-bottom: 8px;
  font-size: 14px;
}

.tarte-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 5px;
}

.tarte-price {
  font-weight: bold;
  color: #e60073;
  font-size: 14px;
}

.tarte-footer .add-cart {
  flex: 1;
  background: #ff69b4;
  color: #fff;
  border: none;
  padding: 6px 10px;
  border-radius: 10px;
  cursor: pointer;
  font-size: 13px;
  transition: background 0.2s, transform 0.2s;
}

.tarte-footer .add-cart:hover {
  background: #e60073;
  transform: translateY(-2px);
}

/* ===== Conteneur horizontal scroll ===== */
.tartes-container {
  display: flex;
  overflow-x: auto;
  gap: 15px;
  padding-bottom: 10px;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

.tartes-container::-webkit-scrollbar {
  display: none;
}

/* ===== Responsive ===== */
@media(max-width: 768px) {
  .tarte-card {
    width: 140px;
  }

  .tarte-card img {
    height: 120px;
  }

  .tarte-content h3 {
    font-size: 13px;
  }

  .tarte-stars {
    font-size: 12px;
  }

  .tarte-price {
    font-size: 13px;
  }

  .tarte-footer .add-cart {
    font-size: 12px;
    padding: 5px 8px;
  }
}
/* Modal */
.modal { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index:2000; justify-content:center; align-items:center;}
.modal-content { background:#fff; padding:25px; width:320px; border-radius:15px; animation: popup 0.3s ease;}
@keyframes popup { from { transform:scale(0.8); opacity:0;} to{ transform:scale(1); opacity:1;}}
.close-modal { float:right; font-size:22px; cursor:pointer; color:#e60073;}
.modal-content h3 { text-align:center; margin-bottom:15px; color:#e60073;}
.modal-content input, .modal-content textarea { width:100%; padding:10px; margin-bottom:12px; border-radius:10px; border:1px solid #ccc;}
.modal-content textarea { resize:none; height:80px;}
.modal-content button { width:100%; background:#ff69b4; color:#fff; border:none; padding:10px; border-radius:12px; cursor:pointer; font-weight:bold;}
.modal-content button:hover { background:#e60073;}
@keyframes floatRotate { 0% {transform:translateY(10px) rotate(0deg);}25% {transform:translateY(-50px) rotate(3deg);}50% {transform:translateY(0) rotate(0deg);}75% {transform:translateY(50px) rotate(-3deg);}100% {transform:translateY(0) rotate(0deg);} }



/* ===== Responsive ===== */
@media(max-width: 1024px) {
    .search-bar input { width: 200px; }
    /* Ajuste l√©g√®rement la largeur minimale des cartes pour garder le style */
    .products { grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); }
}

@media(max-width: 768px) {
    header { flex-direction: column; gap: 10px; text-align: center; }
    .search-bar input { width: 100%; }
    .account-cart { justify-content: center; width: 100%; gap: 10px; }
    main { flex-direction: column; margin-top: 20px; }
    .sidebar { width: 100%; }

    .products { grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); }

    /* Ajuster les cartes produit */
    .product-card img { height: 150px; }
    .product-info h4 { font-size: 13px; }
    .product-info .price { font-size: 14px; }
    .product-info .stock { font-size: 11px; }
    .product-info .add-cart { padding: 6px; font-size: 13px; }

    .page-header { flex-direction: column; text-align: center; padding: 40px 15px 25px 15px; gap: 15px; }
    .page-header img { width: 200px; height: 200px; margin-top: 80px; margin-bottom: 15px; }
    .page-header h1 { font-size: 26px; }
    .breadcrumb { text-align: center; margin: 10px; }
        .logo-badge {
        width: 55px;
        height: 55px;
    }
}

@media(max-width: 480px) {
    .products { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); }
    .product-card img { height: 120px; }
    .product-info h5 { font-size: 10px; }
    .product-info h4 { font-size: 12px; }
    .product-info .price { font-size: 13px; }
    .product-info .stock { font-size: 10px; }
    .product-info .add-cart { padding: 5px; font-size: 12px; }
}

/* ===== FOOTER PRO ===== */
.footer-pro {
    background: linear-gradient(160deg, #fff0f6, #e6fbfb);
    color: #333;
    margin-top: 60px;
    box-shadow: 0 -6px 20px rgba(0,0,0,0.08);
}

/* Bande de confiance */
.footer-trust {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    background: #ff69b4;
    color: #fff;
    padding: 15px 20px;
    text-align: center;
    font-weight: 600;
}

.trust-item {
    font-size: 14px;
}

.trust-item i {
    margin-right: 8px;
}

/* Contenu principal */
.footer-main {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1.2fr;
    gap: 30px;
    padding: 50px 25px;
}

/* Marque */
.footer-brand h2 {
    font-family: 'Playfair Display', serif;
    font-size: 26px;
    color: #e60073;
    margin-bottom: 10px;
}

.footer-brand p {
    font-size: 15px;
    line-height: 1.6;
}

/* Liens */
.footer-links h4,
.footer-contact h4 {
    color: #e60073;
    margin-bottom: 12px;
}

.footer-links a {
    display: block;
    text-decoration: none;
    color: #333;
    margin-bottom: 8px;
    font-size: 14px;
    transition: all 0.2s ease;
}

.footer-links a:hover {
    color: #e60073;
    transform: translateX(4px);
}

/* Contact */
.footer-contact p {
    font-size: 14px;
    margin-bottom: 6px;
}

.footer-contact i {
    color: #e60073;
    margin-right: 8px;
}

/* R√©seaux sociaux */
.footer-social {
    margin-top: 12px;
    display: flex;
    gap: 12px;
      color: #ffffff;
}

.footer-social a {
    width: 38px;
    height: 38px;
    background: #ffffff;
    color: #ffffff;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    transition: all 0.2s ease;
}

.footer-social a:hover {
    background: #e60073;
    transform: translateY(-3px);
        color: #ffffff;
}

/* Bas du footer */
.footer-bottom {
    background: #e60073;
    color: #fff;
    text-align: center;
    padding: 14px;
    font-size: 13px;
}

/* ===== Responsive ===== */
@media (max-width: 900px) {
    .footer-main {
        grid-template-columns: 1fr 1fr;
    }
}

@media (max-width: 600px) {
    .footer-main {
        grid-template-columns: 1fr;
        text-align: center;
    }

    .footer-social {
        justify-content: center;
    }
}
/* ===== Responsive ===== */
@media (max-width: 900px) {
    .footer-main {
        grid-template-columns: 1fr 1fr;
    }
}

@media (max-width: 600px) {
    .footer-main {
        grid-template-columns: 1fr;
        text-align: center;
    }

    .footer-social {
        justify-content: center;
    }
}

/* ===== Responsive Footer ===== */
@media (max-width: 768px) {
    .footer-container {
        text-align: center;
    }
}
.scroll-animate {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}

.scroll-animate.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Animation r√©p√©titive : oscillation ou rebond */
@keyframes floatRepeat {
  0%   { transform: translateY(0); }
  25%  { transform: translateY(-10px); }
  50%  { transform: translateY(0); }
  75%  { transform: translateY(10px); }
  100% { transform: translateY(0); }
}

.scroll-animate.repeat.visible {
  animation: floatRepeat 2s infinite ease-in-out;
}
.product-info {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.button-group {
    display: flex;
    gap: 8px;
}

.add-cart, .btn-love {
    flex: 1;
    padding: 8px 12px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
}

/* Bouton Commander */
.add-cart {
    background: #ff69b4;
    color: #fff;
}
.add-cart:hover {
    background: #e60073;
    transform: translateY(-2px);
}

/* Bouton Adorer */
.btn-love {
    background: #fff0f6;
    color: #e60073;
    font-size: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
}
.btn-love:hover {
    background: #ffe4ef;
    transform: scale(1.1);
}
.heart {
    position: absolute;
    font-size: 14px;
    color: #e60073;
    pointer-events: none;
    animation: floatHeart 1s ease-out forwards;
    opacity: 0.9;
}

@keyframes floatHeart {
    0% {
        transform: translate(0, 0) scale(1);
        opacity: 1;
    }
    50% {
        transform: translate(var(--x), -30px) scale(1.2);
        opacity: 1;
    }
    100% {
        transform: translate(var(--x), -80px) scale(0.8);
        opacity: 0;
    }
}
.stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); /* ‚¨ÖÔ∏è avant 220px */
  gap: 14px; /* ‚¨ÖÔ∏è r√©duit */
  margin: 30px 16px;
      margin-top: 30px;
}

.stat-card {
  background: #ffffff;
  color: #2b2b2b;
  padding: 25px;
  border-radius: 16px;
  text-align: center;
  box-shadow: 0 6px 18px rgba(0,0,0,.12);
  position: relative;
  overflow: hidden;
}
    .stat-card strong {
  display: block;
  font-size: 22px;
  color: #c0392b; /* rouge gourmand */
  margin-bottom: 5px;
}
    .stat-card {
  animation: fadeUp 0.8s ease forwards;
}

@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
   .stat-card {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.stat-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 14px 30px rgba(0,0,0,.18);
}
@media (max-width: 768px) {
  .stats {
    grid-template-columns: repeat(2, 1fr); /* 2 cartes par ligne */
  }

  .stat-card {
    padding: 14px;
  }

  .stat-card strong {
    font-size: 20px;
  }

  .stat-card span {
    font-size: 22px;
  }
}

    .bar {
  height: 6px;
  background: #eee;
  border-radius: 6px;
  overflow: hidden;
}

.fill {
  height: 100%;
  background: linear-gradient(90deg, #e67e22, #c0392b);
  border-radius: 6px;
  animation: grow 1.2s ease forwards;
}

.w80 { width: 80%; }
.w95 { width: 95%; }
.w70 { width: 70%; }

@keyframes grow {
  from { width: 0; }
}
/* Liste mat√©riels style Messenger (mobile) */
.materiel-list {
  display: none; /* par d√©faut invisible */
  overflow-x: auto;
  padding: 10px 15px;
  gap: 12px;
  display: flex;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

.materiel-list::-webkit-scrollbar {
  display: none; /* cacher la scrollbar */
}

.materiel-item {
  flex: 0 0 auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  font-size: 12px;
  gap: 6px;
}

.materiel-item img {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #ff69b4;
  padding: 4px;
  background: #fff0f6;
  transition: transform 0.3s;
}

.materiel-item img:hover {
  transform: scale(1.1);
}
@media (max-width: 768px) {
  .materiel-list {
    display: flex;
    margin-top: 10px;   /* ‚Üê d√©cale la liste vers le bas */
    padding-bottom: 10px; /* pour respirer en bas */
  }
}
@media (max-width: 768px) {
  body {
    padding-top: 180px; /* augmente si n√©cessaire selon la taille du header */
  }
}
.event-banner {
  width: 100%;
  height: 400px; /* ajuste la hauteur pour desktop */
  background-image: url('fm.jpg');
  background-size: cover;     /* couvre toute la zone sans d√©former */
  background-position: center; /* centre l‚Äôimage pour √©viter le recadrage */
  background-repeat: no-repeat;
  border-radius: 15px;        /* optionnel */
    image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
}

/* Responsive mobile */
@media (max-width: 768px) {
  .event-banner {
    height: 250px; /* moins haut sur mobile */
  }
}

.materiel-wrapper {
  position: relative;
}

/* Boutons scroll */
.scroll-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: #ff69b4;
  color: #fff;
  border: none;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  font-size: 22px;
  cursor: pointer;
  z-index: 5;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  display: none; /* cach√© par d√©faut */
}

.scroll-btn.left { left: 5px; }
.scroll-btn.right { right: 5px; }

.scroll-btn:hover {
  background: #e60073;
}

/* Mobile uniquement */
@media (max-width: 768px) {
  .scroll-btn {
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

/* Bouton menu */
.menu-btn {
  background: #ff69b4;
  color: #fff;
  border: none;
  font-size: 22px;
  padding: 8px 12px;
  border-radius: 50%;
  cursor: pointer;
}

/* Overlay sombre */
.menu-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  display: none;
  z-index: 1500;
}

/* Menu lat√©ral */
.side-menu {
  position: fixed;
  top: 0;
  left: -280px; /* cach√© */
  width: 280px;
  height: 100vh;
  background: #fff0f6;
  box-shadow: 4px 0 20px rgba(0,0,0,0.2);
  z-index: 1600;
  padding: 20px;
  transition: left 0.35s ease;
}

/* Menu ouvert */
.side-menu.open {
  left: 0;
}

.menu-overlay.show {
  display: block;
}

/* Header menu */
.side-menu-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 18px;
  margin-bottom: 20px;
}

/* Liens */
.side-menu a {
  display: block;
  text-decoration: none;
  color: #c278a4;
  font-weight: bold;
  padding: 12px 0;
  border-bottom: 1px solid #ffd1e8;
    border-radius: 10px;
}
.side-menu a:hover {
  background: #ffe6f0;
}
@media (max-width: 768px) {
  .menu-btn {
    position: fixed;
    top: 12px;
    left: 12px;
    z-index: 2000;
    margin-left: 0;
  }

}

/* Cach√© partout par d√©faut */
.call-btn {
  display: none !important;
}

/* üì± Mobile uniquement */
@media (max-width: 768px) {
  .call-btn {
    display: flex !important;
    position: fixed;
    bottom: 22px;
    right: 22px;

    width: 58px;
    height: 58px;
    border-radius: 50%;

    /* üé® Couleurs pro (p√¢tisserie / premium) */
    background: linear-gradient(135deg, #c97b63, #a5523d);
    color: #fff;

    align-items: center;
    justify-content: center;

    font-size: 22px;
    text-decoration: none;

    box-shadow:
      0 12px 25px rgba(0,0,0,0.25),
      inset 0 2px 4px rgba(255,255,255,0.3);

    z-index: 9999;
    transition: transform .2s ease, box-shadow .2s ease;
  }

  /* Effet appui (touch) */
  .call-btn:active {
    transform: scale(0.92);
    box-shadow: 0 8px 18px rgba(0,0,0,0.3);
  }

  /* ‚ú® Animation douce (attire sans d√©ranger) */
  .call-btn {
    animation: soft-pulse 2.4s infinite;
  }

  @keyframes soft-pulse {
    0% {
      box-shadow:
        0 0 0 0 rgba(201,123,99,.45),
        0 12px 25px rgba(0,0,0,0.25);
    }
    70% {
      box-shadow:
        0 0 0 14px rgba(201,123,99,0),
        0 12px 25px rgba(0,0,0,0.25);
    }
    100% {
      box-shadow:
        0 0 0 0 rgba(201,123,99,0),
        0 12px 25px rgba(0,0,0,0.25);
    }
  }
}
.menu-categories {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.menu-link {
  width: 100%;
  background: transparent;
  border: none;
  text-align: left;
  padding: 12px 14px;
  font-size: 15px;
  font-weight: bold;
  color: #c278a4;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.25s ease;
}

.menu-link:hover {
  background: #ffe6f0;
  color: #e60073;
  transform: translateX(6px);
}

</style>

<script>
// ===== Firebase =====
const firebaseConfig = {
    apiKey: "AIzaSyAdCpUl04Y5Pe0npioR5_Qc93clRH5VdbU",
    authDomain: "planete-gateau-5743b.firebaseapp.com",
    projectId: "planete-gateau-5743b",
    storageBucket: "planete-gateau-5743b.appspot.com",
    messagingSenderId: "161229110835",
    appId: "1:161229110835:web:6069869a0b98f1a7e56d46",
    measurementId: "G-VJ6ZJPGNSB"
};
const app = firebase.initializeApp(firebaseConfig);
const analytics = firebase.analytics(app);
const db = firebase.firestore();

// ===== Produits =====
let allProducts = [];
db.collection("products").orderBy("createdAt","desc").onSnapshot(snapshot=>{
    allProducts = snapshot.docs.map(doc=>({id:doc.id,...doc.data()}));
    displayProducts(allProducts);
    displayTartes(allProducts);
});

function displayProducts(list){
    const container = document.getElementById("products");
    container.innerHTML = "";

    list.forEach(async (p) => {
        let photoURL = p.photo || 'https://images.unsplash.com/photo-1606755962775-6740a207e9f8?auto=format&fit=crop&w=500&q=60';

        // Si p.photo est un chemin Firebase Storage, r√©cup√©rer l'URL
        if(p.photo && !p.photo.startsWith("http")) {
            try {
                const storageRef = firebase.storage().ref(p.photo);
                photoURL = await storageRef.getDownloadURL();
            } catch(e){
                console.log("Erreur r√©cup√©ration image :", e);
            }
        }

        const card = document.createElement("div");
        card.className = "product-card scroll-animate";
        card.innerHTML = `
            <span class="badge">üí•Promotion</span>
            <img src="${photoURL}" alt="${p.name || 'Produit'}">
            <div class="product-info">
                <h5>${p.brand || "DEKORA"}</h5>
                <h4>${p.name || "Nom inconnu"}</h4>
                <p class="price">${p.price !== undefined ? p.price+" ‚Ç¨":"Prix indisponible"}</p>
                 <div class="button-group">
            <button class="add-cart">Commander</button>
            <button class="btn-love">üíñ Adorer</button>
        </div>
            </div>
        `;
        container.appendChild(card);

        const button = card.querySelector(".add-cart");
        button.addEventListener("click", () => openModal(p));
        const addCartBtn = card.querySelector(".add-cart");
const loveBtn = card.querySelector(".btn-love");

addCartBtn.addEventListener("click", () => openModal(p));

loveBtn.addEventListener("click", (e) => {
    const rect = loveBtn.getBoundingClientRect();
    const container = document.body;

    for(let i=0; i<5; i++){ // cr√©er 5 c≈ìurs
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.textContent = "üíñ";

        // position initiale sur le bouton
        heart.style.left = rect.left + loveBtn.offsetWidth/2 + window.scrollX + "px";
        heart.style.top  = rect.top + window.scrollY + "px";

        // position al√©atoire horizontale
        const xOffset = (Math.random() * 60 - 30) + "px";
        heart.style.setProperty('--x', xOffset);

        container.appendChild(heart);

        // supprimer apr√®s animation
        setTimeout(() => heart.remove(), 1000);
    }
});
    });
}

function displayTartes(list) {
    const tartesContainer = document.getElementById("tartes-container");
    tartesContainer.innerHTML = "";

    const tartes = list.filter(p => p.type && p.type.toLowerCase().includes("tarte"));

    tartes.forEach(t => {
        const photo = t.photo || "default-tarte.png";
        const price = t.price || "N/A";
        const name = t.name || "Tarte";
        const stars = t.stars || 4;
        const badge = t.badge || "";

        const card = document.createElement("div");
        card.className = "tarte-card";

        card.innerHTML = `
            ${badge ? `<div class="tarte-badge">${badge}</div>` : ""}
            <img src="${photo}" alt="${name}">
            <div class="tarte-content">
                <h3>${name}</h3>
                <div class="tarte-stars">${"‚òÖ".repeat(stars) + "‚òÜ".repeat(5 - stars)}</div>
                <div class="tarte-footer">
                    <span class="tarte-price">${price} ‚Ç¨</span>
                    <button class="add-cart">Commander</button>
                </div>
            </div>
        `;

        tartesContainer.appendChild(card);

        // Fonctionnement du bouton Commander
        const orderBtn = card.querySelector(".add-cart");
        orderBtn.addEventListener("click", () => {
            openModal(t); // ouvre la modal de commande pour cette tarte
        });
    });
}
// ===== Filtre & recherche =====
function filterType(type){ displayProducts(type ? allProducts.filter(p=>p.type===type) : allProducts);}
function searchProduct(text){ displayProducts(allProducts.filter(p=>p.name.toLowerCase().includes(text.toLowerCase()))); }

// ===== Modal =====
let selectedProduct=null;
function openModal(product){ selectedProduct=product; document.getElementById("orderModal").style.display="flex";}
function closeModal(){ document.getElementById("orderModal").style.display="none";}

function displayOrdersRealtime() {
    const orderList = document.getElementById("orderList");
    if(!orderList) return;

    db.collection("orders").orderBy("createdAt", "desc")
      .onSnapshot(snapshot => {
        orderList.innerHTML = "";
        if(snapshot.empty){
            orderList.innerHTML = "<p>Aucune commande pour le moment.</p>";
            return;
        }

        snapshot.forEach((doc, index) => {
            const o = doc.data();
            orderList.innerHTML += `
                <div class="product">
                    <strong>Commande #${index + 1}</strong><br>
                    Produit : ${o.product ? o.product.name : "Non d√©fini"}<br>
                    Nom : ${o.name || "-"}<br>
                    T√©l√©phone : ${o.phone || "-"}<br>
                    Message : ${o.message || "-"}<br>
                    Date de commande : ${o.dateCommande || "-"}<br>
                    Date de rendu : ${o.dateRendu || "-"}<br>
                    <button class="delete-btn" onclick="deleteOrder('${doc.id}')">Supprimer</button>
                </div>
            `;
        });
    });
}

function deleteOrder(docId) {
    if(!docId) return;
    db.collection("orders").doc(docId).delete()
      .then(()=>console.log("Commande supprim√©e"))
      .catch(err=>alert("Erreur : "+err));
}

// Appeler au chargement
displayOrdersRealtime();

// ===== Scroll Animation =====
function scrollAnimation() {
    document.querySelectorAll('.scroll-animate').forEach(item => {
        const triggerShow = window.innerHeight * 0.85;  // seuil pour montrer
        const triggerHide = window.innerHeight * 0.1;   // seuil pour cacher

        const itemTop = item.getBoundingClientRect().top;

        if(itemTop < triggerShow && itemTop > triggerHide){
            // √©l√©ment visible
            item.classList.add('visible', 'repeat');
        } else if(itemTop >= triggerShow || itemTop <= triggerHide){
            // disparition avec d√©lai
            setTimeout(() => {
                item.classList.remove('visible', 'repeat');
            }, 400); // 400ms avant de dispara√Ætre, ajustez selon vos besoins
        }
    });
}

window.addEventListener('scroll', scrollAnimation);
scrollAnimation();
</script>
<script>
document.addEventListener("DOMContentLoaded", function () {

    document.getElementById("orderForm").addEventListener("submit", function(e){
        e.preventDefault();

        if(!selectedProduct){
            alert("Aucun produit s√©lectionn√©");
            return;
        }

        const order = {
            product: {
                id: selectedProduct.id,
                name: selectedProduct.name,
                price: selectedProduct.price
            },
            name: document.getElementById("customerName").value,
            phone: document.getElementById("customerPhone").value,
            message: document.getElementById("customerMessage").value,
            dateCommande: new Date().toLocaleDateString("fr-FR"),
            dateRendu: document.getElementById("renduInput").value,
            createdAt: firebase.firestore.FieldValue.serverTimestamp()
        };

        db.collection("orders").add(order)
          .then(()=>{
              alert("Commande envoy√©e ‚úÖ");
              document.getElementById("orderForm").reset();
              closeModal();
          })
          .catch(err=>{
              alert("Erreur : " + err.message);
          });
    });

});
</script>
</head>

<body>

<header >
    <div class="side-menu" id="sideMenu">
  <div class="side-menu-header">
    <span>Menu</span>
    <button onclick="closeMenu()">‚úñ</button>
  </div>

<a href="#">Accueil</a>
<a href="#">Nos Produits</a>
<a href="#">Promotions</a>

<hr>

<!-- Cat√©gories -->
<div class="menu-categories">
  <button class="menu-link" data-type="G√¢teaux">üç∞ G√¢teaux</button>
  <button class="menu-link" data-type="G√¢teaux de c√©r√©monie">üéâ G√¢teaux de c√©r√©monie</button>
  <button class="menu-link" data-type="Cupcakes">üßÅ Cupcakes</button>
  <button class="menu-link" data-type="Viennoiseries">ü•ê Viennoiseries</button>
  <button class="menu-link" data-type="Sal√©">ü•™ Sal√©</button>
  <button class="menu-link" data-type="Tartes">ü•ß Tartes</button>
  <button class="menu-link" data-type="Desserts">üçÆ Desserts</button>
  <button class="menu-link" data-type="Boissons">ü•§ Boissons</button>
</div>

<hr>

<a href="#">Contact</a>
</div>

<div class="menu-overlay" id="menuOverlay" onclick="closeMenu()"></div>

<div class="logo">
    <div class="logo-badge"><img src="IMG-20260220-WA0005.jpg" alt="Logo Plan√®te G√¢teau"></div>
    <div class="logo-name"><span class="main">Plan√®te</span><span class="sub">G√¢teau</span></div>
</div>
<div class="search-bar"><input type="text" placeholder="Que recherchez-vous ?" onkeyup="searchProduct(this.value)"></div>
<div class="account-cart">
  <!-- <button>Mon compte</button>
  <button>üõí</button> -->
<div class="account-cart">

  <a href="tel:+261336174537" class="call-btn">
    <i class="fa-solid fa-phone"></i>+
  </a> 
  <button class="menu-btn" onclick="openMenu()">‚ò∞</button>
</div>
</div>

</header>
<!-- Liste des mat√©riels (mobile seulement) -->
<div class="materiel-wrapper">

  <button class="scroll-btn left" onclick="scrollMateriel(-1)">‚Äπ</button>

  <div class="materiel-list" id="materielList">
    <div class="materiel-item"><img src="muffin.webp"><span>Muffin</span></div>
    <div class="materiel-item"><img src="Chubby.jpg"><span>Chocolat</span></div>
    <div class="materiel-item"><img src="cookiers.webp"><span>Brownie</span></div>
    <div class="materiel-item"><img src="Tartelette.avif"><span>Poche</span></div>
    <div class="materiel-item"><img src="Haiti.jpeg"><span>Batteur</span></div>
    <div class="materiel-item"><img src="choconoir.jpeg"><span>Rouleau</span></div>
    <div class="materiel-item"><img src="esquima.jpg"><span>Esquimaux</span></div>
    <div class="materiel-item"><img src="img/spatule-cuillere.png"><span>Spatule</span></div>
  </div>

  <button class="scroll-btn right" onclick="scrollMateriel(1)">‚Ä∫</button>

</div>
<div class="breadcrumb">Cake Design > <span>Nos Produits</span></div>
<!-- 
<div class="page-header">
    <img src="bg_removed_1771599824404_xhdm93.png" alt="Produit" class="scroll-animate-img">
    <div>
        <h1><i>L‚ÄôArt de la P√¢tisserie</i></h1>
        <p>Commandez vos p√¢tisseries pr√©f√©r√©es pour vos moments d‚Äôexception</p>
    </div>
    
</div>
-->

<section class="event-banner" id="eventBanner"></section>

<main>
    <section class="tartes-section">
        <h2>Nos Tartes</h2>
        <div class="tartes-container" id="tartes-container"></div>
    </section>

    <aside class="sidebar">
      
        <label>Cat√©gorie</label>
        <select onchange="filterType(this.value)" style="border-radius: 12px;">
            <option value="">Toutes</option>
            <option>G√¢teaux</option>
            <option>G√¢teaux de c√©r√©monie</option>
            <option>Cupcakes</option>
            <option>Viennoiseries</option>
            <option>Sal√©</option>
            <option>Tartes</option>
            <option>Desserts</option>
            <option>Boissons</option>
        </select>
    </aside>

    <section class="products" id="products"></section>
</main>

<!-- Modal commande -->
<div class="modal" id="orderModal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeModal()">&times;</span>
        <h3>Commande rapide</h3>
        <form id="orderForm">
            <input type="text" id="customerName" placeholder="Votre nom" required>
            <input type="tel" id="customerPhone" placeholder="Num√©ro de t√©l√©phone" required>
            <textarea id="customerMessage" placeholder="Message "></textarea>
            <div id="orderInfo">
                <p> <span id="commandeDate"></span></p>
                <label for="renduInput">Date de rendu estim√©e :</label>
                <input type="date" id="renduInput" required>
            </div>
            <button type="submit">Envoyer</button>
        </form>
    </div>
</div>
<footer class="footer-pro">

    <!-- Bande de confiance -->
    <div class="footer-trust">
        <div class="trust-item">
            <i class="fa-solid fa-cake-candles"></i>
            Produits artisanaux
        </div>
        <div class="trust-item">
            <i class="fa-solid fa-truck-fast"></i>
            Livraison rapide
        </div>
        <div class="trust-item">
            <i class="fa-solid fa-lock"></i>
            Paiement s√©curis√©
        </div>
        <div class="trust-item">
            <i class="fa-solid fa-star"></i>
            Satisfaction garantie
        </div>
    </div>

    <!-- Contenu principal -->
    <div class="footer-main">

        <!-- Marque -->
        <div class="footer-brand">
            <h2>Plan√®te G√¢teau</h2>
            <p>
                L‚Äôart de la p√¢tisserie pour sublimer vos moments d‚Äôexception.
                G√¢teaux, tartes et cr√©ations uniques faites avec passion.
            </p>
        </div>

        <!-- Navigation -->
        <div class="footer-links">
            <h4>Navigation</h4>
            <a href="#">Accueil</a>
            <a href="#">Nos Produits</a>
            <a href="#">Promotions</a>
            <a href="#">Contact</a>
        </div>

        <!-- Cat√©gories -->
        <div class="footer-links">
            <h4>Cat√©gories</h4>
            <a href="#">G√¢teaux</a>
            <a href="#">Tartes</a>
            <a href="#">Cupcakes</a>
            <a href="#">Desserts</a>
        </div>

        <!-- Contact -->
        <div class="footer-contact">
            <h4>Contact</h4>
            <p><i class="fa-solid fa-location-dot"></i> Antananarivo, Madagascar</p>
            <p><i class="fa-solid fa-phone"></i> +261 33 61 745 37</p>
            <p><i class="fa-solid fa-envelope"></i> contact@planete-gateau.com</p>

            <div class="footer-social">
                <a href="#"><i class="fa-brands fa-facebook-f"></i></a>
                <a href="#"><i class="fa-brands fa-instagram"></i></a>
                <a href="#"><i class="fa-brands fa-whatsapp"></i></a>
            </div>
        </div>

    </div>

    <!-- Bas du footer -->
    <div class="footer-bottom">
        ¬© 2026 Plan√®te G√¢teau ‚Äî Tous droits r√©serv√©s
    </div>

</footer>
   <!--
<script>
  //   const eventBannerImg = document.getElementById("eventBanner").querySelector("img");

// R√©cup√©rer le mois courant (0 = janvier, 11 = d√©cembre)
const currentMonth = new Date().getMonth(); 

// D√©finir l'image selon le mois
let bannerImage = "vt2.jpg";
let altText = "√âv√©nement du moment";

switch(currentMonth) {
    case 1: // F√©vrier
        bannerImage = "vt2.jpg";
        altText = "Saint-Valentin";
        break;
    case 3: // Avril
        bannerImage = "img/paques-banner.jpg";
        altText = "P√¢ques";
        break;
    case 11: // D√©cembre
        bannerImage = "img/noel-banner.jpg";
        altText = "No√´l";
        break;
    // tu peux ajouter d'autres mois si tu veux
    default:
        bannerImage = "img/default-event.png";
        altText = "√âv√©nement du moment";
}

eventBannerImg.src = bannerImage;
eventBannerImg.alt = altText;
</script>
-->
<script>
   
function scrollMateriel(direction) {
  const list = document.getElementById("materielList");
  const scrollAmount = 160; // largeur approximative d‚Äôun item
  list.scrollBy({
    left: direction * scrollAmount,
    behavior: "smooth"
  });
}

</script>
<script>
function openMenu() {
  document.getElementById("sideMenu").classList.add("open");
  document.getElementById("menuOverlay").classList.add("show");
}

function closeMenu() {
  document.getElementById("sideMenu").classList.remove("open");
  document.getElementById("menuOverlay").classList.remove("show");
}
</script>
<script>
function scrollToProductsSmart() {
  const products = document.getElementById("products");
  if (!products) return;

  // hauteur r√©elle du header (change selon mobile / desktop)
  const header = document.querySelector("header");
  const headerHeight = header ? header.offsetHeight : 0;

  // position exacte du bloc produits
  const y =
    products.getBoundingClientRect().top +
    window.pageYOffset -
    headerHeight -
    12; // petit espace visuel

  window.scrollTo({
    top: y,
    behavior: "smooth"
  });
}

document.querySelectorAll(".menu-link").forEach(btn => {
  btn.addEventListener("click", () => {
    // 1Ô∏è‚É£ Filtrer
    filterType(btn.dataset.type);

    // 2Ô∏è‚É£ Fermer menu
    closeMenu();

    // 3Ô∏è‚É£ Scroller apr√®s rendu DOM
    setTimeout(scrollToProductsSmart, 300);
  });
});
</script>
</body>
</html>
